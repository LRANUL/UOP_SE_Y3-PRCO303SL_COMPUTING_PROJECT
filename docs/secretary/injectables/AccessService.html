<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>government-portal-secretary-desktop documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	      <link rel="stylesheet" href="../styles/style.css">
    </head>
    <body>

        <div class="navbar navbar-default navbar-fixed-top visible-xs">
            <a href="../" class="navbar-brand">government-portal-secretary-desktop documentation</a>
            <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content injectable">
                   <div class="content-data">







<ol class="breadcrumb">
  <li>Injectables</li>
  <li>AccessService</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="active">
            <a href="#info" role="tab" id="info-tab" data-toggle="tab" data-link="info">Info</a>
        </li>
        <li >
            <a href="#source" role="tab" id="source-tab" data-toggle="tab" data-link="source">Source</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="c-info">
        <p class="comment">
            <h3>File</h3>
        </p>
        <p class="comment">
            <code>src/app/service/access.service.ts</code>
        </p>




            <section>
    <h3 id="index">Index</h3>
    <table class="table table-sm table-bordered index-table">
        <tbody>
                <tr>
                    <td class="col-md-4">
                        <h6><b>Properties</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#alertController">alertController</a>
                            </li>
                        </ul>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Methods</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#getEApplications">getEApplications</a>
                            </li>
                            <li>
                                <a href="#getEApplicationStatus">getEApplicationStatus</a>
                            </li>
                            <li>
                                <a href="#getEApplicationStatusByID">getEApplicationStatusByID</a>
                            </li>
                            <li>
                                <a href="#getECitizen">getECitizen</a>
                            </li>
                            <li>
                                <a href="#getECitizenbyID">getECitizenbyID</a>
                            </li>
                            <li>
                                <a href="#getECitizens">getECitizens</a>
                            </li>
                            <li>
                                <a href="#getECitizensPhoto">getECitizensPhoto</a>
                            </li>
                            <li>
                                <a href="#getESupportMessages">getESupportMessages</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#getEWorkLogs">getEWorkLogs</a>
                            </li>
                            <li>
                                <a href="#getSecretary">getSecretary</a>
                            </li>
                            <li>
                                <a href="#loginOfficer">loginOfficer</a>
                            </li>
                            <li>
                                <a href="#logoutOfficer">logoutOfficer</a>
                            </li>
                            <li>
                                <a href="#sendMessage">sendMessage</a>
                            </li>
                            <li>
                                <a href="#sendNICApplication">sendNICApplication</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#setApplicationToDeclined">setApplicationToDeclined</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#setApplicationToProcessing">setApplicationToProcessing</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#signIn">signIn</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#signOff">signOff</a>
                            </li>
                        </ul>
                    </td>
                </tr>





        </tbody>
    </table>
</section>

            <section>
    <h3 id="constructor">Constructor</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
<code>constructor(firestore: AngularFirestore, auth: AngularFireAuth, alertController: AlertController, navCtrl: NavController)</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="12" class="link-to-prism">src/app/service/access.service.ts:12</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                            <div>
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>firestore</td>
                                                  
                                                        <td>
                                                                    <code>AngularFirestore</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>auth</td>
                                                  
                                                        <td>
                                                                    <code>AngularFireAuth</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>alertController</td>
                                                  
                                                        <td>
                                                                    <code>AlertController</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>navCtrl</td>
                                                  
                                                        <td>
                                                                    <code>NavController</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
</section>

            <section>
    
    <h3 id="methods">
        Methods
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getEApplications"></a>
                    <span class="name">
                        <b>
                            getEApplications
                        </b>
                        <a href="#getEApplications"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getEApplications(Division)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="32"
                            class="link-to-prism">src/app/service/access.service.ts:32</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Method for getting eApplications to Officer </p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Division</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getEApplicationStatus"></a>
                    <span class="name">
                        <b>
                            getEApplicationStatus
                        </b>
                        <a href="#getEApplicationStatus"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getEApplicationStatus(Division)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="47"
                            class="link-to-prism">src/app/service/access.service.ts:47</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Method for getting eApplications Status to Officer on request</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Division</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getEApplicationStatusByID"></a>
                    <span class="name">
                        <b>
                            getEApplicationStatusByID
                        </b>
                        <a href="#getEApplicationStatusByID"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getEApplicationStatusByID(GovernmentID, Division)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="55"
                            class="link-to-prism">src/app/service/access.service.ts:55</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Method for getting eApplications Status to Officer on request</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>GovernmentID</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>Division</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getECitizen"></a>
                    <span class="name">
                        <b>
                            getECitizen
                        </b>
                        <a href="#getECitizen"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getECitizen(GovernmentID)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="90"
                            class="link-to-prism">src/app/service/access.service.ts:90</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Method for retrieving an active eCitizen</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>GovernmentID</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getECitizenbyID"></a>
                    <span class="name">
                        <b>
                            getECitizenbyID
                        </b>
                        <a href="#getECitizenbyID"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getECitizenbyID(GovernmentID)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="82"
                            class="link-to-prism">src/app/service/access.service.ts:82</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Method for retrieving an eCitizen by ID</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>GovernmentID</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getECitizens"></a>
                    <span class="name">
                        <b>
                            getECitizens
                        </b>
                        <a href="#getECitizens"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getECitizens()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="73"
                            class="link-to-prism">src/app/service/access.service.ts:73</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Method for retrieving active new eCitizen users</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getECitizensPhoto"></a>
                    <span class="name">
                        <b>
                            getECitizensPhoto
                        </b>
                        <a href="#getECitizensPhoto"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getECitizensPhoto(GovernmentID)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="65"
                            class="link-to-prism">src/app/service/access.service.ts:65</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Method for fetching eApplicant Data for verification </p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>GovernmentID</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getESupportMessages"></a>
                    <span class="name">
                        <b>
                            getESupportMessages
                        </b>
                        <a href="#getESupportMessages"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getESupportMessages()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="100"
                            class="link-to-prism">src/app/service/access.service.ts:100</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Method for retrieving eSupport messages </p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getEWorkLogs"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Async</span>
                            getEWorkLogs
                        </b>
                        <a href="#getEWorkLogs"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getEWorkLogs(Email)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="108"
                            class="link-to-prism">src/app/service/access.service.ts:108</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Method for getting Officer worklogs </p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Email</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>{}</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getSecretary"></a>
                    <span class="name">
                        <b>
                            getSecretary
                        </b>
                        <a href="#getSecretary"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getSecretary()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="23"
                            class="link-to-prism">src/app/service/access.service.ts:23</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Method for getting secretry details</p>
</div>

                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </div>
                    <div class="io-description">
                        <p>Secretary Details</p>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="loginOfficer"></a>
                    <span class="name">
                        <b>
                            loginOfficer
                        </b>
                        <a href="#loginOfficer"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>loginOfficer(value)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="459"
                            class="link-to-prism">src/app/service/access.service.ts:459</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Method for logging in user to system</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>value</td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>Holds data coming from Login form and invokes for verfication before allowing access</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="logoutOfficer"></a>
                    <span class="name">
                        <b>
                            logoutOfficer
                        </b>
                        <a href="#logoutOfficer"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>logoutOfficer()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="483"
                            class="link-to-prism">src/app/service/access.service.ts:483</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Method for logging out Secretary</p>
</div>

                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="sendMessage"></a>
                    <span class="name">
                        <b>
                            sendMessage
                        </b>
                        <a href="#sendMessage"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>sendMessage(ID, messageBody)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="400"
                            class="link-to-prism">src/app/service/access.service.ts:400</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Method for sedning officer reponse to ecitizen </p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>ID</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>messageBody</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="sendNICApplication"></a>
                    <span class="name">
                        <b>
                            sendNICApplication
                        </b>
                        <a href="#sendNICApplication"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>sendNICApplication(value, photoURL)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="303"
                            class="link-to-prism">src/app/service/access.service.ts:303</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Method reponsible for sending NIC applications via Government Portal
To prevent third party usage of Government Resources secondary validation takes place to validate entered data before submitting application
This restricts that only the personal account holder to apply / Any form of Joint/Enterprise/Partner accounts are available at this time</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>value</td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>This holds NIC application data send by registered user via forms available on the Account Portal</p>

                                    </td>
                                </tr>
                                <tr>
                                    <td>photoURL</td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="setApplicationToDeclined"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Async</span>
                            setApplicationToDeclined
                        </b>
                        <a href="#setApplicationToDeclined"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>setApplicationToDeclined(DocumentID, Reason)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="247"
                            class="link-to-prism">src/app/service/access.service.ts:247</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Method for declining application</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>DocumentID</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>Reason</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="setApplicationToProcessing"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Async</span>
                            setApplicationToProcessing
                        </b>
                        <a href="#setApplicationToProcessing"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>setApplicationToProcessing(DocumentID)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="196"
                            class="link-to-prism">src/app/service/access.service.ts:196</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Method for setting application to processing </p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>DocumentID</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="signIn"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Async</span>
                            signIn
                        </b>
                        <a href="#signIn"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>signIn()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="116"
                            class="link-to-prism">src/app/service/access.service.ts:116</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Method for officer signin activity </p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="signOff"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Async</span>
                            signOff
                        </b>
                        <a href="#signOff"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>signOff()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="136"
                            class="link-to-prism">src/app/service/access.service.ts:136</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Method for officer signoff activity </p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</section>
            <section>
    
        <h3 id="inputs">
            Properties
        </h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="alertController"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            alertController</b>
                            <a href="#alertController"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code>AlertController</code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="16" class="link-to-prism">src/app/service/access.service.ts:16</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
</section>

    </div>


    <div class="tab-pane fade  tab-source-code" id="c-source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import { Injectable } from &quot;@angular/core&quot;;
import { AngularFireAuth } from &quot;@angular/fire/auth&quot;;
import { AngularFirestore } from &quot;@angular/fire/firestore&quot;;
import { AlertController, NavController } from &quot;@ionic/angular&quot;;
import * as firebase from &quot;firebase&quot;;
import { loadStripe } from &quot;@stripe/stripe-js&quot;;
import * as dateFormat from &quot;dateformat&quot;;

@Injectable({
  providedIn: &quot;root&quot;,
})
export class AccessService {
  constructor(
    private firestore: AngularFirestore,
    private auth: AngularFireAuth,
    public alertController: AlertController,
    private navCtrl: NavController
  ) {}
  /**
   * Method for getting secretry details
   * @returns Secretary Details
   */
  getSecretary() {
    var user &#x3D; firebase.default.auth().currentUser;
    return this.firestore
      .collection(&quot;eAdministration&quot;)
      .doc(user.email)
      .snapshotChanges();
  }

  /** Method for getting eApplications to Officer */
  getEApplications(Division) {
    return this.firestore
      .collection(&quot;eApplications&quot;, (ref) &#x3D;&gt;
        ref
          .limit(10)
          .where(&quot;status&quot;, &quot;in&quot;, [
            &quot;New&quot;,
            &quot;Processing - Stage 1|සැකසීම - අදියර 1|செயலாக்கம் - நிலை 1&quot;,
          ])
          .where(&quot;payment_status&quot;, &quot;&#x3D;&#x3D;&quot;, &quot;paid&quot;)
          .where(&quot;division&quot;, &quot;&#x3D;&#x3D;&quot;, Division)
      )
      .snapshotChanges();
  }
  /** Method for getting eApplications Status to Officer on request*/
  getEApplicationStatus(Division) {
    return this.firestore
      .collection(&quot;eApplications&quot;, (ref) &#x3D;&gt;
        ref.limit(20).where(&quot;division&quot;, &quot;&#x3D;&#x3D;&quot;, Division)
      )
      .snapshotChanges();
  }
  /** Method for getting eApplications Status to Officer on request*/
  getEApplicationStatusByID(GovernmentID, Division) {
    return this.firestore
      .collection(&quot;eApplications&quot;, (ref) &#x3D;&gt;
        ref
          .where(&quot;GovernmentID&quot;, &quot;&#x3D;&#x3D;&quot;, GovernmentID)
          .where(&quot;division&quot;, &quot;&#x3D;&#x3D;&quot;, Division)
      )
      .snapshotChanges();
  }
  /** Method for fetching eApplicant Data for verification */
  getECitizensPhoto(GovernmentID) {
    return this.firestore
      .collection(&quot;eCitizens&quot;, (ref) &#x3D;&gt;
        ref.where(&quot;GovernmentID&quot;, &quot;&#x3D;&#x3D;&quot;, GovernmentID)
      )
      .snapshotChanges();
  }
  /** Method for retrieving active new eCitizen users*/
  getECitizens() {
    return this.firestore
      .collection(&quot;eCitizens&quot;, (ref) &#x3D;&gt;
        ref.limit(50).where(&quot;status&quot;, &quot;!&#x3D;&quot;, &quot;Deleted&quot;)
      )
      .snapshotChanges();
  }

  /** Method for retrieving an eCitizen by ID*/
  getECitizenbyID(GovernmentID) {
    return this.firestore
      .collection(&quot;eCitizens&quot;, (ref) &#x3D;&gt;
        ref.where(&quot;GovernmentID&quot;, &quot;&#x3D;&#x3D;&quot;, GovernmentID)
      )
      .snapshotChanges();
  }
  /** Method for retrieving an active eCitizen*/
  getECitizen(GovernmentID) {
    return this.firestore
      .collection(&quot;eCitizens&quot;, (ref) &#x3D;&gt;
        ref
          .where(&quot;GovernmentID&quot;, &quot;&#x3D;&#x3D;&quot;, GovernmentID)
          .where(&quot;status&quot;, &quot;!&#x3D;&quot;, &quot;Deleted&quot;)
      )
      .snapshotChanges();
  }
  /** Method for retrieving eSupport messages */
  getESupportMessages() {
    return this.firestore
      .collection(&quot;eSupport&quot;, (ref) &#x3D;&gt;
        ref.limit(10).where(&quot;Status&quot;, &quot;&#x3D;&#x3D;&quot;, &quot;New&quot;)
      )
      .snapshotChanges();
  }
  /** Method for getting Officer worklogs */
  async getEWorkLogs(Email) {
    return this.firestore
      .collection(&quot;eAdministration&quot;)
      .doc(Email)
      .collection(&quot;WorkLogs&quot;)
      .snapshotChanges();
  }
  /** Method for officer signin activity */
  async signIn() {
    var user &#x3D; firebase.default.auth().currentUser;
    var date &#x3D; dateFormat(new Date(), &quot;mm-dd-yyyy&quot;);
    var time &#x3D; dateFormat(new Date(), &quot;h:MM:ss TT&quot;);
    const eAdministration &#x3D; this.firestore
      .collection(&quot;eAdministration&quot;)
      .doc(user.email)
      .collection(&quot;WorkLogs&quot;)
      .doc(date);
    const res &#x3D; await eAdministration.set(
      {
        signIn: time,
        date: date,
        documentsHandled: 0,
        messagesHandled: 0,
      },
      { merge: true }
    );
  }
  /** Method for officer signoff activity */
  async signOff() {
    var user &#x3D; firebase.default.auth().currentUser;
    let date &#x3D; dateFormat(new Date(), &quot;mm-dd-yyyy&quot;);
    var time &#x3D; dateFormat(new Date(), &quot;h:MM:ss TT&quot;);
    const eAdministration &#x3D; this.firestore
      .collection(&quot;eAdministration&quot;)
      .doc(user.email)
      .collection(&quot;WorkLogs&quot;)
      .doc(date);
    const res &#x3D; await eAdministration.set(
      {
        signOff: time,
        date: date,
      },
      { merge: true }
    );
  }
  // COMMENTED FOR FUTURE USE
  // /** Method for updating eCitizen access key */

  // async updateECitizenAccessPIN(Access_Key, governmentID) {
  //   const eCitizen &#x3D; this.firestore.collection(&quot;eCitizens&quot;).doc(governmentID);
  //   const res &#x3D; await eCitizen.set(
  //     {
  //       Access_Key: Access_Key,
  //     },
  //     { merge: true }
  //   );
  // }
  // /** Method for activating disabled eCitizen account */
  // async activateECitizen(governmentID) {
  //   const eCitizen &#x3D; this.firestore.collection(&quot;eCitizens&quot;).doc(governmentID);
  //   const res &#x3D; await eCitizen.set(
  //     {
  //       status: &quot;Active&quot;,
  //     },
  //     { merge: true }
  //   );
  // }
  // /** Method for disabling active eCitizen account */
  // async disableECitizen(governmentID) {
  //   const eCitizen &#x3D; this.firestore.collection(&quot;eCitizens&quot;).doc(governmentID);
  //   const res &#x3D; await eCitizen.set(
  //     {
  //       status: &quot;Disabled&quot;,
  //     },
  //     { merge: true }
  //   );
  // }
  // /** Method for permanentely locking eCitizen account, do not delete actual profile [HOLD FOR REFERENCES] */
  // async deleteECitizen(governmentID) {
  //   const eCitizen &#x3D; this.firestore.collection(&quot;eCitizens&quot;).doc(governmentID);
  //   const res &#x3D; await eCitizen.set(
  //     {
  //       status: &quot;Deleted&quot;,
  //     },
  //     { merge: true }
  //   );
  // }
  /** Method for setting application to processing */
  async setApplicationToProcessing(DocumentID) {
    // console.log(DocumentID);
    const eApplication &#x3D; this.firestore
      .collection(&quot;eApplications&quot;)
      .doc(DocumentID);
    await eApplication.set(
      {
        status: &quot;Processing - Stage 1|සැකසීම - අදියර 1|செயலாக்கம் - நிலை 1&quot;,
        description:
          &quot;Your application had been approved by your public officer and is being processed at the divisional secretary and will be approved soon by NIC Office.|ඔබගේ අයදුම්පත ඔබගේ රජයේ නිලධාරියා විසින් අනුමත කර ඇති අතර එය ප්‍රාදේශීය ලේකම්වරයා වෙත යොමු කරනු ලබන අතර එය ජාතික හැඳුනුම්පත් කාර්යාලය විසින් අනුමත කරනු ඇත.|உங்கள் விண்ணப்பம் உங்கள் பொது அதிகாரியால் அங்கீகரிக்கப்பட்டு, பிரதேச செயலாளரிடம் செயல்படுத்தப்பட்டு, விரைவில் என்.ஐ.சி அலுவலகத்தால் அங்கீகரிக்கப்படும்.&quot;,
        processedTimeStamp: &quot;&quot; + new Date(),
      },
      { merge: true }
    );
    var user &#x3D; firebase.default.auth().currentUser;
    var documentNo &#x3D; firebase.default.firestore.FieldValue.increment(1);
    var date &#x3D; dateFormat(new Date(), &quot;mm-dd-yyyy&quot;);
    const eAdministration &#x3D; this.firestore
      .collection(&quot;eAdministration&quot;)
      .doc(user.email)
      .collection(&quot;WorkLogs&quot;)
      .doc(date);
    await eAdministration.set(
      {
        documentsHandled: documentNo,
      },
      { merge: true }
    );
    var user &#x3D; firebase.default.auth().currentUser;
    var date &#x3D; dateFormat(new Date(), &quot;mm-dd-yyyy&quot;);
    const eAdministrationLog &#x3D; this.firestore
      .collection(&quot;eAdministration&quot;)
      .doc(&quot;eServices&quot;)
      .collection(&quot;SystemLogs&quot;)
      .doc(date);
    await eAdministrationLog.set(
      {
        Account: firebase.default.firestore.FieldValue.arrayUnion(
          &quot;secretary set NIC application to Phase 1 with ID &quot; +
            DocumentID +
            &quot; from &quot; +
            user.email +
            &quot; at: &quot; +
            new Date()
        ),
      },
      { merge: true }
    );
  }

  /** Method for declining application*/
  async setApplicationToDeclined(DocumentID, Reason) {
    const eApplication &#x3D; this.firestore
      .collection(&quot;eApplications&quot;)
      .doc(DocumentID);
    const res &#x3D; await eApplication.set(
      {
        status: &quot;Declined|ප්රතික්ෂේප විය|குறைந்தது&quot;,
        description: Reason,
        approvedTimeStamp: &quot;&quot; + new Date(),
      },
      { merge: true }
    );
    var user &#x3D; firebase.default.auth().currentUser;
    var documentNo &#x3D; firebase.default.firestore.FieldValue.increment(1);
    var date &#x3D; dateFormat(new Date(), &quot;mm-dd-yyyy&quot;);
    const eAdministration &#x3D; this.firestore
      .collection(&quot;eAdministration&quot;)
      .doc(user.email)
      .collection(&quot;WorkLogs&quot;)
      .doc(date);
    await eAdministration.set(
      {
        documentsHandled: documentNo,
      },
      { merge: true }
    );
    var user &#x3D; firebase.default.auth().currentUser;
    var date &#x3D; dateFormat(new Date(), &quot;mm-dd-yyyy&quot;);
    const eAdministrationLog &#x3D; this.firestore
      .collection(&quot;eAdministration&quot;)
      .doc(&quot;eServices&quot;)
      .collection(&quot;SystemLogs&quot;)
      .doc(date);
    await eAdministrationLog.set(
      {
        Account: firebase.default.firestore.FieldValue.arrayUnion(
          &quot;secretary declined application with ID &quot; +
            DocumentID +
            &quot; from &quot; +
            user.email +
            &quot; at: &quot; +
            new Date()
        ),
      },
      { merge: true }
    );
  }

  /**
   * Method reponsible for sending NIC applications via Government Portal
   * To prevent third party usage of Government Resources secondary validation takes place to validate entered data before submitting application
   * This restricts that only the personal account holder to apply / Any form of Joint/Enterprise/Partner accounts are available at this time
   *
   * @param value This holds NIC application data send by registered user via forms available on the Account Portal
   *
   */
  sendNICApplication(value, photoURL) {
    var dateBirth &#x3D; dateFormat(value.dateOfBirth, &quot;mm/dd/yyyy&quot;);
    return new Promise&lt;any&gt;(async (resolve, reject) &#x3D;&gt; {
      /**
       * Data gets stored on firebase, used for application tracking and references
       */
      this.firestore
        .collection(&quot;/eApplications/&quot;)
        .doc()
        .set({
          type: &quot;NIC-Application&quot;,
          status: &quot;New&quot;,
          GovernmentID: value.GovernmentID,
          payment_status: &quot;paid&quot;,
          description:
            &quot;Application sent for Department | දෙපාර්තමේන්තුව සඳහා අයදුම්පත යවා ඇත| துறைக்கு விண்ணப்பம் அனுப்பப்பட்டது&quot;,
          email: value.email,
          familyName: value.familyName,
          name: value.name,
          surname: value.surname,
          engFamilyName: value.engFamilyName,
          engName: value.engName,
          engSurname: value.engSurname,
          nicFamilyName: value.nicFamilyName,
          nicName: value.nicName,
          nicSurname: value.nicSurname,
          gender: value.gender,
          civilStatus: value.civilStatus,
          profession: value.profession,
          dateOfBirth: dateBirth,
          birthCertNo: value.birthCertNo,
          placeOfBirth: value.placeOfBirth,
          division: value.division,
          district: value.district,
          birthRegNo: value.birthRegNo,
          countryOfBirth: value.countryOfBirth,
          foreignCertNo: value.foreignCertNo,
          city: value.city,
          houseNo: value.houseNo,
          houseName: value.houseName,
          streetName: value.streetName,
          postalcode: value.postalcode,
          postcity: value.postcity,
          posthouseNo: value.posthouseNo,
          posthouseName: value.posthouseName,
          poststreetName: value.poststreetName,
          postpostalcode: value.postpostalcode,
          certDate: dateFormat(value.certDate, &quot;mm/dd/yyyy&quot;),
          cardNo: value.cardNo,
          nicDate: dateFormat(value.nicDate, &quot;mm/dd/yyyy&quot;),
          policeName: value.policeName,
          policeReportDate: dateFormat(value.policeReportDate, &quot;mm/dd/yyyy&quot;),
          homePhone: value.homePhone,
          mobilePhone: value.mobilePhone,
          requestType: value.NICType,
          TimeStamp: new Date(),
          photoURL: photoURL,
          sentTimeStamp: &quot;&quot; + new Date(),
          processedTimeStamp: &quot;&quot;,
          approvedTimeStamp: &quot;&quot;,
        })
        .then(
          (response) &#x3D;&gt; resolve(response),
          (error) &#x3D;&gt; reject(error)
        );
      const alert &#x3D; await this.alertController.create({
        header: &quot;✅ Application Requested&quot;,
        subHeader: &quot;Application Sent&quot;,
        message:
          &quot;Your application has been sent, check Services page for process tracking.&quot;,
        buttons: [&quot;OK&quot;],
      });
      await alert.present();
      var user &#x3D; firebase.default.auth().currentUser;
      var date &#x3D; dateFormat(new Date(), &quot;mm-dd-yyyy&quot;);
      const eAdministrationLog &#x3D; this.firestore
        .collection(&quot;eAdministration&quot;)
        .doc(&quot;eServices&quot;)
        .collection(&quot;SystemLogs&quot;)
        .doc(date);
      await eAdministrationLog.set(
        {
          Account: firebase.default.firestore.FieldValue.arrayUnion(
            &quot;secretary send NIC application to &quot; +
              value.GovernmentID +
              &quot; from &quot; +
              user.email +
              &quot; at: &quot; +
              new Date()
          ),
        },
        { merge: true }
      );
    });
  }

  /** Method for sedning officer reponse to ecitizen */
  sendMessage(ID, messageBody) {
    return new Promise&lt;any&gt;(async (resolve, reject) &#x3D;&gt; {
      /**
       * Data gets stored on firebase, used for message tracking and references
       */
      // console.log(ID + &quot;\n&quot; + messageBody);
      // console.log(ID);
      const eSupport &#x3D; this.firestore.collection(&quot;eSupport&quot;).doc(ID);
      const res &#x3D; await eSupport.set(
        {
          Status: &quot;Completed&quot;,
          Response: messageBody,
        },
        { merge: true }
      );
      var user &#x3D; firebase.default.auth().currentUser;
      var date &#x3D; dateFormat(new Date(), &quot;mm-dd-yyyy&quot;);
      const eAdministrationLog &#x3D; this.firestore
        .collection(&quot;eAdministration&quot;)
        .doc(&quot;eServices&quot;)
        .collection(&quot;SystemLogs&quot;)
        .doc(date);
      await eAdministrationLog.set(
        {
          Account: firebase.default.firestore.FieldValue.arrayUnion(
            &quot;secretary send support message to &quot; +
              ID +
              &quot; from &quot; +
              user.email +
              &quot; at: &quot; +
              new Date()
          ),
        },
        { merge: true }
      );
      var supportNo &#x3D; firebase.default.firestore.FieldValue.increment(1);
      var date &#x3D; dateFormat(new Date(), &quot;mm-dd-yyyy&quot;);
      const eAdministration &#x3D; this.firestore
        .collection(&quot;eAdministration&quot;)
        .doc(user.email)
        .collection(&quot;WorkLogs&quot;)
        .doc(date);
      await eAdministration
        .set(
          {
            messagesHandled: supportNo,
          },
          { merge: true }
        )
        .then(
          (response) &#x3D;&gt; resolve(response),
          (error) &#x3D;&gt; reject(error)
        );
    });
  }
  /**
   * Method for logging in user to system
   * @param value Holds data coming from Login form and invokes for verfication before allowing access
   */
  loginOfficer(value) {
    return new Promise&lt;any&gt;(async (resolve, reject) &#x3D;&gt; {
      const email &#x3D; value.email;
      const address &#x3D; email.split(&quot;@&quot;).pop();
      if (address &#x3D;&#x3D; &quot;homeaffairs.gov.lk&quot;) {
        this.auth.signInWithEmailAndPassword(value.email, value.password).then(
          (res) &#x3D;&gt; resolve(res),
          (err) &#x3D;&gt; reject(err)
        );
        this.navCtrl.navigateForward(&quot;secretary/home-affairs&quot;);
      } else {
        const alert &#x3D; await this.alertController.create({
          header: &quot;⚠ Unauthorized Access&quot;,
          message: &quot;Login attempt failed, service not registered.&quot;,
          buttons: [&quot;Close&quot;],
        });
        await alert.present();
      }
    });
  }
  /**
   * Method for logging out Secretary
   * @returns
   */
  logoutOfficer() {
    var user &#x3D; firebase.default.auth().currentUser;
    var date &#x3D; dateFormat(new Date(), &quot;mm-dd-yyyy&quot;);
    return new Promise&lt;void&gt;((resolve, reject) &#x3D;&gt; {
      if (this.auth.currentUser) {
        this.auth
          .signOut()
          .then(async () &#x3D;&gt; {
            // console.log(&quot;Signing out&quot;);

            const eAdministration &#x3D; this.firestore
              .collection(&quot;eAdministration&quot;)
              .doc(&quot;eServices&quot;)
              .collection(&quot;SystemLogs&quot;)
              .doc(date);
            await eAdministration.set(
              {
                Login: firebase.default.firestore.FieldValue.arrayUnion(
                  &quot;secretary logout attempt from &quot; +
                    user.email +
                    &quot; at: &quot; +
                    new Date()
                ),
              },
              { merge: true }
            );
            this.navCtrl.navigateForward(&quot;access&quot;);
            resolve();
          })
          .catch((_error) &#x3D;&gt; {
            reject();
          });
      }
    });
  }
}
</code></pre>
    </div>

</div>







                   




                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> result-matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'injectable';
            var COMPODOC_CURRENT_PAGE_URL = 'AccessService.html';
            var MAX_SEARCH_RESULTS = 15;
       </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>
       <!-- Required to polyfill modern browsers as code is ES5 for IE... -->
       <script src="../js/libs/custom-elements-es5-adapter.js" charset="utf-8" defer></script>
       <script src="../js/menu-wc.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>
       <script src="../js/libs/zepto.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
